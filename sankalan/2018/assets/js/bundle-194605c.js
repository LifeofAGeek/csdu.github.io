"use strict";var t=function(){function i(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,e){return n&&i(t.prototype,n),e&&i(t,e),t}}();function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}
/**
 * @preserve
 * Developed by Sudhanshu Vishnoi
 * (https://github.com/sidvishnoi)
 * Copyright 2018
 */function l(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[];var e="UA-113942220-1",n={ct:" ".repeat(13)+"Hey you, Hackerman!"+" ".repeat(16)+"\n"+" ".repeat(2)+"I see you are interested in the source code."+" ".repeat(2)+"\n"+" ".repeat(13)+"Let me help you :)"+" ".repeat(17),st:"background: #bada55;color:#000;font-weight: bold;"};console.log("%c"+n.ct,n.st),console.log("%c"+" ".repeat(1)+"https://github.com/sidvishnoi/sankalan-2018"+" ".repeat(2),"color: yellow;padding:4px;background:#000");var o=function(){return"/sankalan/2018/"===window.location.pathname.replace("index.html","")};o()&&document.body.classList.add("is-front-page");var r=function(){function e(t){i(this,e),this.canvas=t,this.canvas.style.background="#000",this.ctx=t.getContext("2d"),this.polylines=[],this.frameCount=0;var n=.125*(2*Math.PI);this.ANGLES=[n,-n,Math.PI-n,Math.PI+n],this.NUM_LINES=10,this.NUM_SEGMENT=8,this.SEGMENT_LENGTH=120,this.RESET_FACTOR=5}return t(e,[{key:"buildLine",value:function(t){var n=t||{};return n.color={},n.color.r=this.constructor.randomInt(192),n.color.g=this.constructor.randomInt(128),n.color.b=this.constructor.randomInt(256),n.points=[],n}},{key:"nextAngle",value:function(){var t=this.constructor.randomInt(this.ANGLES.length);return this.ANGLES[t]}},{key:"getNextPoint",value:function(t,n,e){var i=e||{};t.angle=this.nextAngle(t.angle),i.x=t.points[n-1].x+Math.cos(t.angle)*this.SEGMENT_LENGTH,i.y=t.points[n-1].y+Math.sin(t.angle)*this.SEGMENT_LENGTH,t.points.push(i)}},{key:"initPolyLine",value:function(t){t.points.push({x:this.constructor.randomInt(this.canvas.width),y:this.constructor.randomInt(this.canvas.height)});for(var n=1;n<this.NUM_SEGMENT;n+=1)this.getNextPoint(t,n);return t}},{key:"drawLine",value:function(t){this.ctx.strokeStyle=this.constructor.createRgbString(t.color);for(var n=1;n<t.points.length;n+=1)this.ctx.beginPath(),this.ctx.moveTo(t.points[n-1].x,t.points[n-1].y),this.ctx.lineTo(t.points[n].x,t.points[n].y),this.ctx.stroke()}},{key:"isPointInside",value:function(t){return 0<t.y&&t.y<this.canvas.height&&t.x<this.canvas.width&&0<t.x}},{key:"resetLine",value:function(t){var n=this.polylines.indexOf(t),e=this.polylines.splice(n,1)[0],i=this.buildLine(e),o=this.initPolyLine(i);this.polylines.push(o)}},{key:"moveLine",value:function(t){for(var n=this,e=0;e<t.points.length;e+=1)t.points[e].y+=.01;0===t.points.filter(function(t){return n.isPointInside(t)}).length&&this.resetLine(t)}},{key:"move",value:function(){var t=!0,n=!1,e=void 0;try{for(var i,o=this.polylines[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var r=i.value;this.moveLine(r)}}catch(t){n=!0,e=t}finally{try{!t&&o.return&&o.return()}finally{if(n)throw e}}}},{key:"shiftPoint",value:function(t){var n=t.points.shift();this.getNextPoint(t,t.points.length,n)}},{key:"animate",value:function(){this.canvas.width=this.canvas.width,this.move();var t=!0,n=!1,e=void 0;try{for(var i,o=this.polylines[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var r=i.value;this.drawLine(r)}}catch(t){n=!0,e=t}finally{try{!t&&o.return&&o.return()}finally{if(n)throw e}}if(this.frameCount%this.RESET_FACTOR==0){var a=!(this.frameCount=0),s=!1,l=void 0;try{for(var c,h=this.polylines[Symbol.iterator]();!(a=(c=h.next()).done);a=!0){var u=c.value;this.shiftPoint(u)}}catch(t){s=!0,l=t}finally{try{!a&&h.return&&h.return()}finally{if(s)throw l}}}return this.frameCount+=1,window.requestAnimationFrame(this.anim)}},{key:"resize",value:function(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight}},{key:"init",value:function(){for(var t=0;t<this.NUM_LINES;t+=1){var n=this.buildLine();this.polylines.push(n)}for(var e=0,i=this.polylines.length;e<i;e+=1)this.initPolyLine(this.polylines[e]);this.anim=this.animate.bind(this),this.resize(),this.animate(),window.addEventListener("resize",this.resize)}}],[{key:"createRgbString",value:function(t){return"rgb("+t.r+","+t.g+","+t.b+")"}},{key:"randomInt",value:function(t){return Math.floor(Math.random()*t)}}]),e}(),a=document.getElementById("canvas"),s=new r(a);s.init();var c=void 0,h=void 0,u=600,d=void 0,v=function(t){document.title=t.title,window.history.pushState(t,t.title,t.link)},f=function(){document.body.classList.add("loading")},w=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){},n=new Date-d;n=u<n?0:u-n,window.setTimeout(function(){document.body.classList.remove("loading"),t()},n)},y=function(t){var n=document.getElementById("main");if(""===t.slug?document.body.classList.add("is-front-page"):document.body.classList.remove("is-front-page"),!t.link)throw new Error("bad content");return window.scrollTo(0,0),w(function(){n.innerHTML=t.content,c(),h()}),l("config",e,{page_title:t.title,page_path:t.link}),t},p=function(t){var n=t.split(window.location.host)[1];window.history.replaceState(window.history.state,document.title,n)},g=function(e){var n=window.location.href;p(e);var t=function(t){console.error(t),p(n),w()},i=e;"/"===i.substr(-1)?i+="index.json":i.endsWith("/index.json")||(i+="/index.json");var o=e.split(window.location.host)[1],r=window.localStorage.getItem("t-"+o),a=new Date(parseInt(r,10));if(new Date-a<3e5){var s=JSON.parse(window.localStorage.getItem(o));return new Promise(function(t){return t(s)}).then(y).then(v).then(c).catch(t)}return window.fetch(i).then(function(t){var n=t.headers.get("Content-Type");return t.ok?n.includes("application/json")?Promise.resolve(t.json()):Promise.reject(new Error("invalid response")):Promise.reject(new Error(t.statusCode))}).then(function(t){var n=e.split(window.location.host)[1];return window.localStorage.setItem(n,JSON.stringify(t)),window.localStorage.setItem("t-"+n,(new Date).valueOf()),Promise.resolve(t)}).then(y).then(v).then(c).catch(t)};window.onpopstate=function(t){var n=t.state;n&&n.link||(window.location.href=window.location.href),d=(new Date).valueOf()+250;var e=n.link;f(),p(window.location.host+e),y(n)};var m=function(t){t.preventDefault();var n=t.target.closest("a");t.ctrlKey?window.open(n.href,"_blank"):(d=new Date,f(),g(n.href))};h=function(){var t=document.querySelectorAll("a"),n=function(t){t.preventDefault();var n=!1,e=t.target.closest("a"),i=e.dataset.id||e.innerText,o=e.href,r=o.split(window.location.host)[1]||o,a=function(){n||document.location.href===o||e.classList.contains("xhr")||("_blank"===e.getAttribute("target")||t.ctrlKey?window.open(o,"_blank"):document.location.href=o),n=!0},s={event_category:"Click Open",event_label:i,event_callback:a};o.includes(window.location.host)||(n||setTimeout(a,1e3),s.transport_type="beacon"),l("event",r,s)},e=!0,i=!1,o=void 0;try{for(var r,a=t[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){r.value.addEventListener("click",n,!1)}}catch(t){i=!0,o=t}finally{try{!e&&a.return&&a.return()}finally{if(i)throw o}}},(c=function(){var t=document.querySelectorAll("a.xhr"),n=!0,e=!1,i=void 0;try{for(var o,r=t[Symbol.iterator]();!(n=(o=r.next()).done);n=!0){var a=o.value;a.removeEventListener("click",m,!0);var s=a.href;s.replace(window.location.protocol+"//"+window.location.host,"")!==s&&(s!==window.location.href?a.addEventListener("click",m,!0):a.addEventListener("click",function(t){return t.preventDefault()}))}}catch(t){e=!0,i=t}finally{try{!n&&r.return&&r.return()}finally{if(e)throw i}}})(),h(),loadJs("https://www.googletagmanager.com/gtag/js?id=UA-113942220-1"),l("js",new Date),l("config",e);